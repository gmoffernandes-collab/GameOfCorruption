<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GameOfCorruption</title>

  <style>
    body {
      background-color: #0e0e0e;
      color: #f0f0f0;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 40px;
    }

    h1 {
      color: #f5b400;
      text-shadow: 0 0 10px #f5b40088;
      font-size: 2.8em;
      margin-bottom: 10px;
    }

    #stats {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 10px;
      font-size: 1em;
    }

    .bar-container {
      width: 200px;
      height: 18px;
      background-color: #333;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 5px;
    }

    .bar {
      height: 100%;
      transition: width 0.4s ease-in-out;
    }

    #honest-bar { background-color: #2ecc71; width: 0%; }
    #corrupt-bar { background-color: #e74c3c; width: 0%; }

    #story {
      margin-top: 30px;
      font-size: 1.2em;
      line-height: 1.6em;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      transition: opacity 0.5s;
    }

    button {
      background-color: #222;
      color: #f5b400;
      border: 2px solid #f5b400;
      padding: 10px 25px;
      margin: 10px;
      font-size: 1em;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.2s;
    }

    button:hover {
      background-color: #f5b400;
      color: #111;
    }

    #game-over {
      font-size: 1.3em;
      color: #f5b400;
      margin-top: 20px;
    }
  </style>
</head>

<body>

  <h1>GameOfCorruption</h1>

  <div id="stats">
    <div>
      ðŸŸ¢ Honesty: <span id="honest-val">0</span>
      <div class="bar-container"><div id="honest-bar" class="bar"></div></div>
    </div>

    <div>
      ðŸ”´ Corruption: <span id="corrupt-val">0</span>
      <div class="bar-container"><div id="corrupt-bar" class="bar"></div></div>
    </div>
  </div>

  <p id="story">
    When you need to make an unpopular decision (such as raising or lowering taxes), what criteria do you use to ensure ethics and public interest?
  </p>

  <div id="choices">
    <button onclick="choose('honest1')">If necessary, I will do it even if it's unpopular.</button>
    <button onclick="choose('corrupt1')">I decide what is right.</button>
  </div>

  <div id="game-over"></div>

  <!-- Sounds -->
  <audio id="click-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_eb0a6df7a0.mp3?filename=click-124467.mp3" preload="auto"></audio>
  <audio id="end-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_cfb4c85df4.mp3?filename=success-1-6297.mp3" preload="auto"></audio>
  <audio id="bg-music" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b9ef9a7e1e.mp3?filename=dramatic-ambient-11263.mp3" preload="auto" loop></audio>

  <script>
    let honest = 0;
    let corrupt = 0;
    let phase = 1;

    const clickSound = document.getElementById("click-sound");
    const endSound = document.getElementById("end-sound");
    const bg = document.getElementById("bg-music");

    bg.volume = 0.2;
    bg.play().catch(() => {});

    function updateBars() {
      document.getElementById("honest-val").textContent = honest;
      document.getElementById("corrupt-val").textContent = corrupt;
      document.getElementById("honest-bar").style.width = honest + "%";
      document.getElementById("corrupt-bar").style.width = corrupt + "%";
    }

    function gameOver(txt) {
      document.getElementById("choices").innerHTML = "";
      document.getElementById("game-over").innerHTML =
        `<br><strong>${txt}</strong><br><br><button onclick='location.reload()'>Play Again</button>`;
      endSound.play();
    }

    function choose(option) {
      clickSound.play();

      const story = document.getElementById("story");
      const choices = document.getElementById("choices");

      /* ---------------- PHASE 1 ---------------- */
      if (phase === 1) {
        if (option === "honest1") {
          honest += 10;
          story.innerHTML = "You choose to act with integrity despite unpopularity.";
          choices.innerHTML = `
            <button onclick="choose('honest2')">Resist the pressure</button>
            <button onclick="choose('corrupt2')">Negotiate with the elites</button>
          `;
        } else {
          corrupt += 10;
          story.innerHTML = "You choose power over ethics.";
          choices.innerHTML = `
            <button onclick="choose('corrupt3')">Bribe journalists</button>
            <button onclick="choose('honest3')">Admit your mistakes publicly</button>
          `;
        }
        phase = 2;
        updateBars();
        return;
      }

      /* ---------------- PHASE 2 ---------------- */
      if (phase === 2) {
        if (option === "honest2") {
          honest += 15;
          story.innerHTML = "You resist political pressure and expose corruption.";
          choices.innerHTML = `
            <button onclick="choose('honest4')">Run for reelection</button>
            <button onclick="choose('end_hon1')">Resign with dignity</button>
          `;
        }
        else if (option === "corrupt2") {
          corrupt += 15;
          story.innerHTML = "You make shady deals with powerful elites.";
          choices.innerHTML = `
            <button onclick="choose('honest5')">Launch a social program</button>
            <button onclick="choose('end_cor1')">Ignore the crisis</button>
          `;
        }
        else if (option === "corrupt3") {
          corrupt += 40;
          updateBars();
          return gameOver("The bribe is discovered! You are arrested. Ending: NATIONAL SCANDAL.");
        }
        else if (option === "honest3") {
          honest += 20;
          story.innerHTML = "Your honesty surprises the nation.";
          choices.innerHTML = `
            <button onclick="choose('honest6')">Run again</button>
            <button onclick="choose('end_hon2')">Retire from politics</button>
          `;
        }

        phase = 3;
        updateBars();
        return;
      }

      /* ---------------- PHASE 3 ---------------- */
      if (phase === 3) {
        if (option === "honest4") {
          honest += 15;
          story.innerHTML = "Your campaign grows, but opponents spread fake news.";
          choices.innerHTML = `
            <button onclick="choose('end_hon3')">Confront them in a debate</button>
            <button onclick="choose('end_cor3')">Use fake news yourself</button>
          `;
        }
        else if (option === "end_hon1") {
          return gameOver("You resign honorably. Ending: THE IDEALIST.");
        }
        else if (option === "honest5") {
          honest += 10;
          story.innerHTML = "You launch social programs, but the budget shrinks.";
          choices.innerHTML = `
            <button onclick="choose('end_hon4')">Raise taxes</button>
            <button onclick="choose('end_cor4')">Print more money</button>
          `;
        }
        else if (option === "end_cor1") {
          corrupt += 30;
          updateBars();
          return gameOver("Mass protests overthrow your government. Ending: THE NEGLIGENT.");
        }
        else if (option === "honest6") {
          honest += 20;
          story.innerHTML = "You return stronger and gain public support.";
          choices.innerHTML = `
            <button onclick="choose('end_hon5')">Win the election</button>
            <button onclick="choose('end_hon6')">Lose the election</button>
          `;
        }
        else if (option === "end_hon2") {
          return gameOver("You inspire future generations. Ending: THE MENTOR.");
        }

        phase = 4;
        updateBars();
        return;
      }

      /* ---------------- FINAL PHASE ---------------- */
      if (phase === 4) {
        const endings = {
          end_hon3: ["You win the debate and the election! Ending: THE PEOPLE'S LEADER.", 25, 0],
          end_cor3: ["You win, but destroy truth. Ending: THE MANIPULATOR.", 0, 25],
          end_hon4: ["The country slowly recovers. Ending: THE REFORMER.", 20, 0],
          end_cor4: ["Hyperinflation destroys the economy. Ending: THE DISASTER.", 0, 30],
          end_hon5: ["You return to power with justice. Ending: REDEMPTION.", 30, 0],
          end_hon6: ["You lose with dignity. Ending: THE FALLEN HERO.", 15, 0],
        };

        if (endings[option]) {
          let [text, h, c] = endings[option];
          honest += h;
          corrupt += c;
          updateBars();
          return gameOver(text);
        }
      }
    }
  </script>

</body>
</html>

