<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GameOfCorruption</title>

  <style>
    body {
      background-color: #0e0e0e;
      color: #f0f0f0;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 40px;
    }

    h1 {
      color: #f5b400;
      text-shadow: 0 0 10px #f5b40088;
      font-size: 2.8em;
      margin-bottom: 10px;
    }

    #stats {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 10px;
      font-size: 1em;
    }

    .bar-container {
      width: 200px;
      height: 18px;
      background-color: #333;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 5px;
    }

    .bar {
      height: 100%;
      transition: width 0.4s ease-in-out;
    }

    #honest-bar { background-color: #2ecc71; width: 0%; }
    #corrupt-bar { background-color: #e74c3c; width: 0%; }

    #story {
      margin-top: 30px;
      font-size: 1.2em;
      line-height: 1.6em;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      transition: opacity 0.5s;
    }

    button {
      background-color: #222;
      color: #f5b400;
      border: 2px solid #f5b400;
      padding: 10px 25px;
      margin: 10px;
      font-size: 1em;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.2s;
    }

    button:hover {
      background-color: #f5b400;
      color: #111;
    }

    #game-over {
      font-size: 1.3em;
      color: #f5b400;
      margin-top: 20px;
    }
  </style>
</head>

<body>

  <h1>GameOfCorruption</h1>

  <div id="stats">
    <div>
      ðŸŸ¢ Honesty: <span id="honest-val">0</span>
      <div class="bar-container"><div id="honest-bar" class="bar"></div></div>
    </div>

    <div>
      ðŸ”´ Corruption: <span id="corrupt-val">0</span>
      <div class="bar-container"><div id="corrupt-bar" class="bar"></div></div>
    </div>
  </div>

  <p id="story">
    When you need to make an unpopular decision (such as raising or lowering taxes), what criteria do you use to ensure ethics and public interest?
  </p>

  <div id="choices">
    <button onclick="choose('honest1')">If necessary, I will do it even if it's unpopular.</button>
    <button onclick="choose('corrupt1')">I decide what is right.</button>
  </div>

  <div id="game-over"></div>

  <!-- Sounds -->
  <audio id="click-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_eb0a6df7a0.mp3?filename=click-124467.mp3" preload="auto"></audio>
  <audio id="end-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_cfb4c85df4.mp3?filename=success-1-6297.mp3" preload="auto"></audio>
  <audio id="bg-music" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b9ef9a7e1e.mp3?filename=dramatic-ambient-11263.mp3" preload="auto" loop></audio>

 <script>
let honest = 0;
let corrupt = 0;
let phase = 1;

const clickSound = document.getElementById("click-sound");
const endSound = document.getElementById("end-sound");
const bg = document.getElementById("bg-music");

bg.volume = 0.2;
bg.play().catch(() => {});

function updateBars() {
  document.getElementById("honest-val").textContent = honest;
  document.getElementById("corrupt-val").textContent = corrupt;
  document.getElementById("honest-bar").style.width = honest + "%";
  document.getElementById("corrupt-bar").style.width = corrupt + "%";

  if (honest >= 100) return gameOver("You achieved PERFECT HONESTY! FINAL: THE SAINT.");
  if (corrupt >= 100) return gameOver("You reached ABSOLUTE CORRUPTION! FINAL: THE TYRANT.");
}

function gameOver(txt) {
  document.getElementById("choices").innerHTML = "";
  document.getElementById("game-over").innerHTML =
    `<br><strong>${txt}</strong><br><br><button onclick='location.reload()'>Play Again</button>`;
  endSound.play();
}

function choose(option) {
  clickSound.play();
  const story = document.getElementById("story");
  const choices = document.getElementById("choices");

  /* ---------------- PHASE 1 ---------------- */
  if (phase === 1) {
    if (option === "honest1") {
      honest += 10;
      story.innerHTML = "You decide to act with integrity despite public backlash.";
      choices.innerHTML = `
        <button onclick="choose('honest2')">Hold your position firmly</button>
        <button onclick="choose('corrupt2')">Make secret deals</button>`;
    } else {
      corrupt += 10;
      story.innerHTML = "You choose authority over ethics.";
      choices.innerHTML = `
        <button onclick="choose('corrupt3')">Pressure journalists</button>
        <button onclick="choose('honest3')">Admit your wrongdoing</button>`;
    }
    phase++;
    updateBars();
    return;
  }

  /* ---------------- PHASE 2 ---------------- */
  if (phase === 2) {
    if (option === "honest2") {
      honest += 10;
      story.innerHTML = "You resist pressure and defend the truth.";
      choices.innerHTML = `
        <button onclick="choose('honest4')">Expose the corruption</button>
        <button onclick="choose('corrupt4')">Hide evidence</button>`;
    }
    else if (option === "corrupt2") {
      corrupt += 10;
      story.innerHTML = "You negotiate with powerful figures behind closed doors.";
      choices.innerHTML = `
        <button onclick="choose('corrupt5')">Accept bribes</button>
        <button onclick="choose('honest5')">Break the deal</button>`;
    }
    else if (option === "corrupt3") {
      corrupt += 10;
      story.innerHTML = "You manipulate the media narrative.";
      choices.innerHTML = `
        <button onclick="choose('corrupt6')">Silence reporters</button>
        <button onclick="choose('honest6')">Tell the truth</button>`;
    }
    else if (option === "honest3") {
      honest += 10;
      story.innerHTML = "Your honesty shocks the public.";
      choices.innerHTML = `
        <button onclick="choose('honest7')">Request an investigation</button>
        <button onclick="choose('corrupt7')">Blame your team</button>`;
    }

    phase++;
    updateBars();
    return;
  }

  /* ---------------- PHASE 3 ---------------- */
  if (phase === 3) {
    const honestPaths = {
      honest4: "You reveal criminal connections within the government.",
      honest5: "You break the corrupt pact and report it.",
      honest6: "You expose the manipulation to the public.",
      honest7: "The investigation uncovers a large corruption network."
    };

    const corruptPaths = {
      corrupt4: "You destroy evidence and mislead investigators.",
      corrupt5: "You accept money from foreign lobbyists.",
      corrupt6: "You threaten independent journalists.",
      corrupt7: "You frame your own advisors."
    };

    if (honestPaths[option]) {
      honest += 10;
      story.innerHTML = honestPaths[option];
      choices.innerHTML = `
        <button onclick="choose('honest8')">Strengthen transparency laws</button>
        <button onclick="choose('corrupt8')">Use your popularity for power</button>`;
    }
    else if (corruptPaths[option]) {
      corrupt += 10;
      story.innerHTML = corruptPaths[option];
      choices.innerHTML = `
        <button onclick="choose('corrupt9')">Sell government contracts</button>
        <button onclick="choose('honest9')">Expose your own crimes</button>`;
    }

    phase++;
    updateBars();
    return;
  }

  /* ---------------- PHASE 4 ---------------- */
  if (phase === 4) {
    if (option === "honest8") {
      honest += 10;
      story.innerHTML = "You strengthen ethics and transparency nationwide.";
      choices.innerHTML = `
        <button onclick="choose('honest10')">Educate citizens</button>
        <button onclick="choose('corrupt10')">Exploit your influence</button>`;
    }
    else if (option === "corrupt8") {
      corrupt += 10;
      story.innerHTML = "You use your clean image to manipulate the masses.";
      choices.innerHTML = `
        <button onclick="choose('corrupt11')">Control the media</button>
        <button onclick="choose('honest11')">Reveal the truth</button>`;
    }
    else if (option === "corrupt9") {
      corrupt += 10;
      story.innerHTML = "You start selling national resources for profit.";
      choices.innerHTML = `
        <button onclick="choose('corrupt12')">Expand the corruption</button>
        <button onclick="choose('honest12')">Stop everything</button>`;
    }
    else if (option === "honest9") {
      honest += 10;
      story.innerHTML = "You confess and demand accountability.";
      choices.innerHTML = `
        <button onclick="choose('honest13')">Support anti-corruption courts</button>
        <button onclick="choose('corrupt13')">Escape consequences</button>`;
    }

    phase++;
    updateBars();
    return;
  }

  /* ---------------- PHASE 5 (FINAL QUESTIONS BEFORE 100%) ---------------- */
  if (phase === 5) {

    if (option.startsWith("honest")) {
      honest += 10;
      story.innerHTML = "Your integrity inspires millions.";
    } else {
      corrupt += 10;
      story.innerHTML = "Your corruption escalates to national dominance.";
    }

    updateBars();

    // If still not at 100, final choice:
    if (honest < 100 && corrupt < 100) {
      choices.innerHTML = `
        <button onclick="choose('honestFinal')">Protect democracy</button>
        <button onclick="choose('corruptFinal')">Seize total control</button>`;
    } else {
      choices.innerHTML = "";
    }

    phase++;
    return;
  }

  /* ---------------- PHASE 6 (FINAL DECISION) ---------------- */
  if (phase === 6) {
    if (option === "honestFinal") {
      honest += 10;
      return updateBars();
    } else {
      corrupt += 10;
      return updateBars();
    }
  }
}
</script>
